(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{32:function(e,t,c){},46:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(15),r=c.n(a),s=(c(31),c(12)),o=(c(32),c(8)),i=c(47),j=c(48),l=c(59),h=c(49),u=c(50),d={home:"/",authors:"/authors",post:"/post/:id",newPost:"/post/add-new",adminLogin:"/login"},b=c(2),O=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],a=t[1];return Object(b.jsx)("div",{children:Object(b.jsxs)(i.a,{color:"light",light:!0,expand:"md",children:[Object(b.jsx)(s.c,{activeClassName:"active",className:"navbar-brand",to:d.home,children:"BlogApp"}),Object(b.jsx)(j.a,{onClick:function(){return a(!c)}}),Object(b.jsx)(l.a,{isOpen:c,navbar:!0,children:Object(b.jsxs)(h.a,{className:"me-auto",navbar:!0,children:[Object(b.jsx)(u.a,{children:Object(b.jsx)(s.c,{activeClassName:"active",className:"nav-link",to:d.authors,children:"Authors"})}),Object(b.jsx)(u.a,{children:Object(b.jsx)(s.c,{className:"nav-link",activeClassName:"active",to:d.newPost,children:"AddPost"})})]})})]})})},x="https://tranquil-peak-36251.herokuapp.com",f=function(e){var t=e.id,c=e.title,n=e.author,a=e.content;return Object(b.jsxs)("div",{children:[Object(b.jsx)(s.b,{to:d.post.replace(":id",t),children:Object(b.jsx)("h3",{children:c})}),Object(b.jsx)("p",{children:n}),Object(b.jsx)("p",{children:a.substring(0,100)+"..."})]})},m=c(51),p=c(7),v=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(p.f)();console.log(r,Math.random()),Object(n.useEffect)((function(){l(!0),fetch(x+"/posts",{mode:"cors"}).then((function(e){return e.json()})).then((function(e){a(e.posts),l(!1)})).catch(console.error)}),[]);var s=Object(n.useState)(!1),i=Object(o.a)(s,2),j=i[0],l=i[1];return j?Object(b.jsx)("h1",{className:"container",children:"Loading!!"}):Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h1",{children:"Home"}),c.map((function(e,t){return Object(b.jsxs)("div",{children:[Object(b.jsx)(f,{id:e._id,title:e.title,author:e.author.name,content:e.content}),Object(b.jsx)(m.a,{onClick:function(){r.push(d.post.replace(":id",e._id))},children:"Read More"})]},t)}))]})},g=c(52),N=c(53),S=c(54),C=c(55),y=c(56),k=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),s=Object(o.a)(r,2),i=s[0],j=s[1],l=Object(n.useState)(""),h=Object(o.a)(l,2),u=h[0],d=h[1],O=Object(n.useState)([]),f=Object(o.a)(O,2),p=f[0],v=f[1],k=Object(n.useState)(!1),P=Object(o.a)(k,2),w=P[0],A=P[1];Object(n.useEffect)((function(){fetch(x+"/author",{mode:"cors"}).then((function(e){return e.json()})).then((function(e){console.log(e),v(e.author),console.log(e.author[0]._id),j(e.author[0]._id)})).catch(console.error)}),[]);return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h1",{children:"AddPost"}),Object(b.jsxs)(g.a,{onSubmit:function(e){A(!0),e.preventDefault();var t={title:c,content:u,authorId:i};fetch("".concat(x,"/posts"),{headers:{"Content-Type":"application/json"},method:"POST",mode:"cors",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return alert(e)})).catch(console.error()).finally((function(){A(!1)}))},children:[Object(b.jsxs)(N.a,{children:[Object(b.jsx)(S.a,{for:"title",children:"Title"}),Object(b.jsx)(C.a,{type:"text",name:"title",value:c,onChange:function(e){return a(e.target.value)},id:"title",placeholder:"Title Post",required:!0})]}),Object(b.jsxs)(N.a,{children:[Object(b.jsx)(S.a,{for:"authorname",children:"Author"}),Object(b.jsx)(C.a,{type:"select",value:i,onChange:function(e){return j(e.target.value)},name:"authorname",id:"authorname",placeholder:"Author's Name",required:!0,children:p.map((function(e,t){return Object(b.jsx)("option",{value:e._id,children:e.name},t)}))})]}),Object(b.jsxs)(N.a,{children:[Object(b.jsx)(S.a,{for:"contentText",children:"Content"}),Object(b.jsx)(C.a,{type:"textarea",value:u,onChange:function(e){return d(e.target.value)},rows:"10",name:"content",id:"content",required:!0})]}),w?Object(b.jsx)(y.a,{color:"primary"}):Object(b.jsx)(m.a,{className:"btn btn-primary",type:"submit",children:"Submit"})]})]})},P=function(){var e,t=Object(n.useState)([]),c=Object(o.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(!1),i=Object(o.a)(s,2),j=i[0],l=i[1],h=Object(p.g)().id;return Object(n.useEffect)((function(){l(!0),fetch(x+"/posts/".concat(h),{mode:"cors"}).then((function(e){return e.json()})).then((function(e){r(e.post),l(!1)})).catch(console.error)}),[]),j?Object(b.jsx)("h1",{className:"container",children:"Loading!!"}):Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h2",{children:a.title}),Object(b.jsx)("p",{children:null===(e=a.author)||void 0===e?void 0:e.name}),Object(b.jsx)("p",{children:a.content})]})},w=c(57),A=c(58),_=function(){Object(n.useEffect)((function(){j(!0),fetch(x+"/author",{mode:"cors"}).then((function(e){return e.json()})).then((function(e){a(e.author),j(!1)})).catch(console.error)}),[]);var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(o.a)(r,2),i=s[0],j=s[1];return i?Object(b.jsx)("h1",{className:"container",children:"loading!!"}):Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h1",{children:"Authors"}),Object(b.jsx)(w.a,{children:c.map((function(e){return Object(b.jsxs)(A.a,{children:[e.name," "]},e._id)}))})]})},E=Object(n.createContext)("light"),T=E.Provider,q=function(e){var t=e.children,c=Object(n.useState)("light"),a=Object(o.a)(c,2),r=a[0],s=a[1];return Object(b.jsx)(T,{value:{mode:r,toggle:function(){s("light"===r?"dark":"light")}},children:t})},J=function(){return Object(n.useContext)(E)};function L(){var e=J();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(O,{}),Object(b.jsx)(m.a,{className:"but",onClick:e.toggle,children:e.mode}),Object(b.jsxs)(p.c,{children:[Object(b.jsx)(p.a,{exact:!0,path:d.home,children:Object(b.jsx)(v,{})}),Object(b.jsx)(p.a,{path:d.newPost,children:Object(b.jsx)(k,{})}),Object(b.jsx)(p.a,{path:d.post,children:Object(b.jsx)(P,{})}),Object(b.jsx)(p.a,{path:d.authors,children:Object(b.jsx)(_,{})})]})]})}var M=document.getElementById("root");r.a.render(Object(b.jsx)(n.StrictMode,{children:Object(b.jsx)(q,{children:Object(b.jsx)(s.a,{children:Object(b.jsx)(L,{})})})}),M)}},[[46,1,2]]]);
//# sourceMappingURL=main.6cb8eb88.chunk.js.map